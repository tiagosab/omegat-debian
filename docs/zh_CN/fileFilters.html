<html>
<head>
  <link rel="stylesheet" href="./OmegaT.css" type="text/css">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>文件过滤器 - OmegaT 2.0用户手册</title>
</head>

<body>
  <h1>文件过滤器</h1>
  <hr>

  <ul>
    <li>
      <p><a href="#filter_dialog">文件过滤器对话框</a></p>

      <ul>
        <li>
          <p><a href="#filter_options">过滤器选项</a></p>
        </li>
      </ul>
    </li>

    <li>
      <p><a href="#edit_dialog">编辑过滤器对话框</a></p>

      <ul>
        <li>
          <p><a href="#source_file_name">源文件类型、文件名模式</a></p>
        </li>

        <li>
          <p><a href="编码">源文件和目标文件编码</a></p>
        </li>

        <li>
          <p><a href="#target_file_name">目标文件名</a></p>
        </li>
      </ul>
    </li>
  </ul>

  <p>OmegaT 的自定义过滤器是其主要特色之一，它让你可以对过滤器的多数工作进行设置。文件过滤器是一堆代码，它能够：</p>

  <ul>
    <li>
      <p>从某些特定文件格式中读取文档。例如：纯文本文件。</p>
    </li>

    <li>
      <p>将可翻译的内容从文件中提取出来。</p>
    </li>

    <li>
      <p>通过将可翻译内容替换为可译内容，自动对可翻译文档文件名进行修改。</p>
    </li>
  </ul>

  <p>多数用户应该会对缺省的文件过滤器选项感到满意。如果不满意，可以从主菜单中<strong>选项 -&gt; 文件过滤器……</strong>打开主对话框。<strong>警告！</strong> 在项目处于打开状态时修改过滤器选项可能会导致数据丢失。请注意：如果你在项目打开的时候改变片段分割选项，你必须重新导入项目以使改变生效。</p>

  <h3><a name="filter_dialog" id="filter_dialog"></a>文件过滤器对话框</h3>

  <p>该对话框列出了可用的文件过滤器。如果你不想使用 OmegaT 翻译某些类型的文件，你可以将它们文件名旁边的复选框的对勾符号去掉而将该过滤器关闭。这样一来，OmegaT 在打开项目时将会忽略这些文件，并且在创建目标文档时对它们进行原封不动的复制。如果之后你又决定使用这些过滤器，只需勾上这些复选框。点击 <strong>缺省［Defaults］</strong> 可将文件过滤器恢复为缺省设置。要想对某个过滤器以何种编码处理何种文件进行编辑，可以从列表中选中该过滤器然后点击<strong>编辑</strong>按钮。</p>

  <h3><a name="filter_options" id="filter_options"></a>过滤器选项</h3>

  <p>五种过滤器（文本文件、 XHTML 文件、HTML 和 XHTML 文件、开发文档／文件和 微软开发 XML 文件）有一个或多个特别选项。要修改这些选项，请从列表中选择该过滤器，并点击 <strong>选项［Options］</strong>按钮。可选项包括：</p>

  <h4>文本文件</h4>

  <ul>
    <li>
      <p><i>在换行、空行处进行片段分割或者不分割：</i> 如果激活了句子分割规则，文本将会按照现有规则作进一步分割。</p>
    </li>
  </ul>

  <h4>HTML 文件和 HTML 及 XHTML 文件</h4>

  <ul>
    <li>
      <p><i>编码声明：</i> OmegaT 将以目标文件所所选的编码方式[encoding]增加或覆盖文件的编码声明。</p>
    </li>

    <li>
      <p><i>属性翻译：</i> 所选中的属性将会以片段的形式出现在编辑器窗口中。</p>
    </li>

    <li>
      <p><i>按 &lt;br&gt; 分割段落：</i>按照 HTML 的 &lt;br&gt; 标签分割段落。</p>
    </li>

    <li>
      <p><i>忽略文本匹配正则式：</i> 匹配该正则式的文本将会被忽略。</p>
    </li>
  </ul>

  <h4>开放文档/OpenOffice.org 文件</h4>

  <p>以下元素是否进行翻译。如果被翻译，它们将以单独片段的形式出现。</p>

  <ul>
    <li><i>索引项[Index Entry]</i></li>

    <li><i>书签［Bookmarks］</i></li>

    <li><i>书签引用［Bookmark references］</i></li>

    <li><i>注释［Notes］</i></li>

    <li><i>评论［Comments］</i></li>
  </ul>

  <h4>微软开放 XML 文件</h4>

  <p>以下元素是否进行翻译。如果被翻译，它们将以单独片段的形式出现。</p>

  <ul>
    <li><i>隐藏文本（Word）</i></li>

    <li><i>注释 (Word, Excel)</i></li>

    <li><i>脚注 (Word)</i></li>

    <li><i>尾注 (Word)</i></li>

    <li><i>页眉 (Word)</i></li>

    <li><i>页脚 (Word)</i></li>

    <li><i>幻灯片注释 (PowerPoint)</i></li>

    <li><i>幻灯片母板 (PowerPoint)</i></li>
  </ul>

  <h3><a name="edit_dialog" id="edit_dialog"></a>编辑过滤器对话框</h3>

  <p>该对话框允许你设置该过滤器所处理的文件的源文件名模式，定制已译文件文件名，并为它选择用何种编码来导入文件及保存已译副本。要修改文件过滤器模式，可直接修改该字段或点击 <strong>编辑</strong>按钮。要新增一个文件过滤模式，可点击 <strong>新增</strong>。新增模式和编辑特定模式使用的是相同的对话框。该对话框非常有用，因为它带有的特定目标文件模式编辑器允许你自定义输出文件的名称。</p>

  <h3><a name="source_file_name" id="source_file_name"></a>源文件类型、文件名模式</h3>

  <p>当 OmegaT 在源文件夹中发现一个文件时，它将首先根据文件的扩展名试着选择过滤器。更确切地说，OmegaT 尝试着用每个过滤器的源文件名模式对文件名进行匹配。例如， <code>*.xhtml</code> 模式将会匹配任何以 <code>.xhtml</code> 为扩展名的文件。如果找到了合适的过滤器，它将被用来处理该文件。比如说：缺省情况下 XHTML 过滤器将会用来处理以<code>.xhtml</code>为扩展名的文件。 你可以对每个文件过滤器要处理文件的名称模式进行修改或增添。源文件名模式中使用的匹配字符与 <strong>搜索</strong> 中所使用的类似。'<strong>*</strong>' 字符匹配零或多个字符。'<strong>?</strong>' 字符只匹配一个字符。所有其它字符代表自身。比如，如果你希望文本过滤器处理 readme 文件（ <code>readme</code> 、  <code>read.me</code> 和 <code>readme.txt</code> ），你应该使用模式 <code>read*</code> 。 </p>

  <h3><a name="encoding" id="encoding"></a>源文件和目标文件编码</h3>

  <p>仅少量文件格式必须指定强制性的编码方式。未指定编码方式的文件格式将使用您所设定的匹配该名称的扩展名的编码方式。例如，缺省情况下 <code>.txt</code> 文件将会使用系统缺省的编码导入。你可以对每种源文件名模式的源编码进行修改。这些文件也可以任何编码方式输出。缺省情况下，已译文件的编码与源文件的编码相同。源和目标编码字段使用的组合框包括了所支持的全部编码。<strong>&lt;auto&gt;</strong> 将编码选择工作留给了 OmegaT 。以下是其工作原理：</p>

  <ul>
    <li>
      <p style="margin-bottom: 0cm;">OmegaT 通过 (HTML 文件、基于 XML 的文件中)可能存在的编码声明来查找源文件编码。</p>
    </li>

    <li>
      <p style="margin-bottom: 0cm;">OmegaT 被设置为使用某种强制性编码（Java 属性等）。</p>
    </li>

    <li>
      <p>OmegaT 为文本文件使用缺省的系统编码。</p>
    </li>
  </ul>

  <h3><a name="target_file_name" id="target_file_name"></a>目标文件名</h3>

  <p>有时你也需希望系统自动将译好的的文件重新命名，比如在文件名后加上语言代码。目标文件名模式使用特殊的语法规则，因此如果希望编辑这些字段的话，你最好点击 <strong>编辑……</strong> 以使用编辑模式对话框。如果你想恢复到缺省的过滤器设置，点击<strong>缺省</strong>。您也可以在文件过滤器对话框中的目标文件模式字段中直接修改名称。模式编辑对话框提供了以下选项：</p>

  <ul>
    <li>
      <p>缺省设置是 <code>${filename}</code> —— 和源文件完全相同的文件名和扩展名，因此已译文件的名称将和源文件名完全一样。</p>
    </li>

    <li>
      <p><code>${nameOnly}</code> ——只插入源文件的名称，而不包括扩展名。</p>
    </li>

    <li>
      <p><code>${extension}</code> —— 源文件的扩展名。</p>
    </li>

    <li>
      <p><code>${targetLocale}</code> ——目标文件的地区代码 （以"xx_YY"的形式）</p>
    </li>

    <li>
      <p><code>${targetLanguage}</code> ——目标语言和国家代码（以 "XX-YY"的形式）</p>
    </li>

    <li>
      <p><code>${targetLanguageCode}</code> ——目标语言代码 （"XX"）</p>
    </li>

    <li>
      <p><code>${targetCoutryCode}</code> ——目标国家代码 ("YY").</p>
    </li>
  </ul>
  <hr>

  <table style="width: 100%;" border="0" cellpadding="2" cellspacing="2" summary="只有格式">
    <tbody>
      <tr>
        <td style="text-align: left;"><a href="legalNotices.html">法律声明</a></td>

        <td style="text-align: center;"><a href="index.html">首页</a></td>

        <td style="text-align: right;"><a href="xindex.html">内容索引</a></td>
      </tr>
    </tbody>
  </table>
</body>
</html>
