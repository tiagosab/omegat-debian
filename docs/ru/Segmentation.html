<html>
<head>
  <link rel="stylesheet" href="./OmegaT.css" type="text/css">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">

  <title>Сегментирование исходного текста - Руководство пользователя OmegaT 2.0</title>
</head>

<body>
  <h2>Сегментирование исходного текста</h2>

  <ul>
    <li>
      <p><a href="#structure">Сегментирование на уровне структуры текста</a></p>
    </li>

    <li>
      <p><a href="#sentence">Сегментирование на уровне предложений</a></p>

      <ul>
        <li>
          <p><a href="#about">Правила сегментирования</a></p>
        </li>

        <li>
          <p><a href="#setup">Настройка правил сегментирования</a></p>

          <ul>
            <li>
              <p><a href="#priority">Приоритет</a></p>
            </li>

            <li>
              <p><a href="#creation">Создание правил сегментирования</a></p>
            </li>

            <li>
              <p><a href="#break">Разрывы и исключения</a></p>
            </li>

            <li>
              <p><a href="#examples">Несколько простых примеров</a></p>
            </li>
          </ul>
        </li>
      </ul>
    </li>

    <li>
      <p><a href="regexp.html">Использование регулярных выражений</a></p>
    </li>
  </ul>

  <p>Программы памяти переводов работают с текстовыми единицами, которые называются «сегменты». OmegaT сегментирует текст двумя способами: по абзацам и по предложениям. Чтобы выбрать тип сегментирования, в главном меню выберите <strong>Проект → Свойства...</strong> и используйте находящийся там переключатель. Сегментирование по абзацам сейчас считается устаревшим и для большинства проектов следует выбирать сегментирование по предложениям. Если выбрано сегментирование по предложениям, его правила можно настроить, выбрав в главном меню <strong>Настройки → Сегментирование...</strong>.</p>

  <p>В процессе разработки программы на создание адекватных правил сегментирования было потрачено много времени, так что они подходят для большинства случаев сегментирования, и свои правила писать не придётся. С другой стороны, в требующих того случаях возможность создать собственные правила сегментирования очень полезна, поскольку позволяет переводить только то, что нужно, исключая опасность изменения того, что изменять не следует.</p>

  <p><strong>Внимание!</strong> Изменение настроек фильтров при открытом проекте может вызвать потерю внесённых изменений. Если вы изменяете настройки сегментирования при работе с проектом, то чтобы изменения вступили в силу, придётся перезагрузить проект.</p>
  <hr>

  <h2><a name="structure" id="structure"></a>Сегментирование на уровне структуры текста</h2>

  <p>Сначала OmegaT обрабатывает текст с применением структурного сегментирования. На этом этапе текст сегментируется согласно его структуре.</p>

  <p>Например, <a href="fileFilters.html#filter_options">текстовые файлы</a> могут сегментироваться по разрывам строк, пустым строкам или вообще не сегментироваться. Файлы с форматированием (документы OpenOffice.org, HTML-файлы и т.д.) сегментируются по тэгам уровня блоков (абзацев). Переводимые <a href=
  "fileFilters.html#filter_options">атрибуты</a> объектов в XHTML или HTML можно извлечь как отдельные сегменты.</p>
  <hr>

  <h2><a name="sentence" id="sentence"></a>Сегментирование на уровне предложений</h2>

  <p>После сегментирования исходного файла на логические фрагменты, OmegaT начинает их сегментирование по предложениям.</p>

  <h3><a name="about" id="about"></a>Правила сегментирования</h3>

  <p>Процесс сегментирования можно описать следующим образом: представьте курсор, который движется по тексту, проходя один символ за раз. Для каждой позиции курсора в заданном порядке применяется каждое из правил, которое проверяет, подходит ли шаблон <strong>До</strong> к тексту слева и шаблон <strong>После</strong> к тексту справа от курсора. Если правило подходит, программа прекращает проверку правил (по правилу исключения) или создаёт новый сегмент (по правилу разрыва).</p>

  <p>Сегментирование по предложениям реализовано по стандарту <a href="http://www.lisa.org/standards/srx/">Segmentation Rules eXchange (SRX)</a>. Однако,поддерживаются ещё не все возможности SRX. Невозможно импортировать и экспортировать правила в формате SRX. Тем не менее, если вы понимаете принцип работы SRX — вы уже имеете достаточно подробное представление о том, как OmegaT осуществляет сегментирование.</p>

  <p>Существуют два типа правил:</p>

  <ul>
    <li>
      <p><strong>Правила разрыва</strong> разделяют исходный текст на сегменты. Например, предложение <i>«Стоило ли это делать? Не уверен.»</i> должно быть разделено на два сегмента, то есть, должно быть определено правило разрыва для «<code>?</code>».</p>
    </li>

    <li>
      <p><strong>Правила исключения</strong> определяют, какие части текста НЕ должны сегментироваться. Несмотря на точку, словосочетание <i>«Mrs. Dalloway»</i> не нужно разделять на два сегмента, поэтому нужно определить правило исключения для строки Mrs (а также Mr, Dr, prof и т.д.) с точкой справа.</p>
    </li>
  </ul>

  <p>Стандартных правил разрыва должно быть достаточно для большинства европейских языков и японского. Тем не менее, у вас есть возможность определить для ваших языков новые правила исключения, чтобы получить более осмысленные и адекватные сегменты.</p>

  <h3><a name="setup" id="setup"></a>Настройка правил сегментирования</h3>

  <h3><a name="priority" id="priority"></a>Приоритет</h3>

  <p>Все наборы правил сегментирования с подходящим языковым шаблоном применяются в заданном порядке, так что правила для конкретного языка имеют более высокий приоритет, чем стандартные правила. Например, правила для канадского французского (FR-CA) будут иметь более высокий приоритет, чем правила для французского (FR.*) и чем стандартные (.*) правила. Соответственно, при переводе с канадского французского ваш проект будет использовать правила, определённые для этого языка, общие правила для французского и стандартные правила, и именно в таком порядке.</p>

  <h3><a name="creation" id="creation"></a>Создание правил сегментирования</h3>

  <p>Чтобы расширить или изменить существующий набор правил, просто выберите его в таблице. В нижней части окна появятся правила этого набора.</p>

  <p>Чтобы создать набор правил для нового языкового шаблона, нажмите на кнопку <strong>Добавить</strong> в верхней части диалогового окна. Внизу таблицы в верхней части окна появится пустая строка <font color="black" face=
  "Times New Roman" size="3"><span style="font-size: 12pt; color: black;" lang=
  "EN-US">(возможно, придётся подвигать полосу прокрутки, чтобы найти её)</span></font>. Измените названия набора правил и шаблона языка. Синтаксис шаблона языка подчиняется правилам <a href="regexp.html">регулярных выражений</a>. Если ваш набор правил относится к паре «язык-страна», рекомендуется передвинуть его наверх, используя кнопку <strong>Вверх</strong>.&nbsp;</p>

  <h3><a name="break" id="break"></a>Разрывы и исключения</h3>

  <p>Переключатель Разрыв/Исключение определяет, является ли правило разрывом (галочка поставлена) или исключением (галочки нет). Регулярные выражения «До» и «После» определяют, что должно находиться слева и справа от курсора для срабатывания правила.</p>

  <h3><a name="examples" id="examples"></a>Несколько простых примеров</h3>

  <table summary="просто форматирование" border="0" cellpadding="4" cellspacing="0">
    <tbody>
      <tr bgcolor="#DDDDDD">
        <td width="26%">
          <p><strong>Что нужно</strong></p>
        </td>

        <td>
          <p><strong>До</strong></p>
        </td>

        <td>
          <p><strong>После</strong></p>
        </td>

        <td width="52%">
          <p><strong>Примечание</strong></p>
        </td>
      </tr>

      <tr>
        <td width="26%">
          <p>начинать новый сегмент после точки ('<code>.</code>') и до пробела</p>
        </td>

        <td>
          <p><code>\.</code></p>
        </td>

        <td>
          <p><code>\s</code></p>
        </td>

        <td width="52%">
          <p>«<code>\.</code>» обозначает символ «<code>.</code>», «<code>\s</code>» обозначает пробел</p>
        </td>
      </tr>

      <tr bgcolor="#DDDDDD">
        <td width="26%">
          <p>не создавать сегмент после «Mr.»</p>
        </td>

        <td>
          <p><code>Mr\.</code></p>
        </td>

        <td>
          <p><code>\s</code></p>
        </td>

        <td width="52%">
          <p>Это правило исключения, поэтому галочка с переключателя должна быть убрана</p>
        </td>
      </tr>

      <tr>
        <td width="26%">
          <p>начинать новый сегмент после «ã€‚» (японская точка)</p>
        </td>

        <td>
          <p><span lang="zxx"><code>ã€‚</code></span></p>
        </td>

        <td></td>

        <td width="52%">
          <p>Обратите внимание, поле <i>После</i> — остаётся пустым</p>
        </td>
      </tr>

      <tr bgcolor="#DDDDDD">
        <td width="26%">
          <p>не создавать сегмент после M., Mr., Mrs.и Ms.</p>
        </td>

        <td>
          <p><code>Mr??s??\.</code></p>
        </td>

        <td>
          <p><code>\s</code></p>
        </td>

        <td width="52%">
          <p>Правило исключения - см. использование «?» в регулярных выражениях («нежадные» идентификаторы)</p>
        </td>
      </tr>
    </tbody>
  </table>
  <hr>

  <h2><a name="regex" id="regex"></a>Составление регулярных выражений</h2>

  <p>Мы используем в правилах сегментирования те регулярные выражения, которые поддерживаются Java. Краткая справка доступна в приложении <a href="regexp.html">Составление регулярных выражений</a>. Если вам нужна дополнительная информация, см. <a href=
  "http://java.sun.com/j2se/1.5/docs/api/java/util/regex/Pattern.html">http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html</a>.</p>

  <p>В сети можно найти простые руководства по регулярным выражениям (к примеру: <a href=
  "http://www.regular-expressions.info/quickstart.html">http://www.regular-expressions.info/quickstart.html</a>).</p>
  <hr>

  <table summary="просто форматирование" style="width: 100%;" border="0" cellpadding=
  "2" cellspacing="2">
    <tbody>
      <tr>
        <td style="text-align: left;"><a href="legalNotices.html">Авторские права</a></td>

        <td style="text-align: center;"><a href="index.html">Наверх</a></td>

        <td style="text-align: right;"><a href="xindex.html">Предметный указатель</a></td>
      </tr>
    </tbody>
  </table>
</body>
</html>
