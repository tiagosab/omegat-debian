Author: Tiago Saboga <tiagosaboga@gmail.com>
Description: Use debian's libhunspell.
--- omegat-2.0.5.2+dfsg.orig/build.xml
+++ omegat-2.0.5.2+dfsg/build.xml
@@ -63,10 +63,6 @@
     
     <target name="-post-jar">
         <delete file="${dist.dir}/README.TXT"/>
-        <!-- copy the native libraries to the distribution directory -->
-        <copy todir="dist/native">
-            <fileset dir="native"/>
-        </copy>
     </target>
     
     <!-- Creates a zip with two localization packs -->
--- omegat-2.0.5.2+dfsg.orig/src/org/omegat/core/spellchecker/SpellChecker.java
+++ omegat-2.0.5.2+dfsg/src/org/omegat/core/spellchecker/SpellChecker.java
@@ -108,9 +108,7 @@
                     + File.separator
                     + mapLibraryName(OConsts.SPELLCHECKER_LIBRARY_NAME);
         } else {
-            libraryPath = StaticUtils.installDir() + File.separator
-                    + OConsts.NATIVE_LIBRARY_DIR + File.separator
-                    + mapLibraryName(OConsts.SPELLCHECKER_LIBRARY_NAME);
+            libraryPath = OConsts.SPELLCHECKER_LIBRARY_NAME;
         }
         
         try {
@@ -148,8 +146,9 @@
                 Core.getProject().getProjectProperties().getTargetLanguage()
                 .getLocaleCode();
         
-        String dictionaryDir = Preferences.getPreference(
-                Preferences.SPELLCHECKER_DICTIONARY_DIRECTORY);
+        String dictionaryDir = Preferences.getPreferenceDefault(
+               Preferences.SPELLCHECKER_DICTIONARY_DIRECTORY,
+               OConsts.SPELLCHECKER_SYSTEM_DICTIONARY_DIRECTORY);
         
         if (dictionaryDir != null) {
             String affixName = dictionaryDir + File.separator + language +
--- omegat-2.0.5.2+dfsg.orig/src/org/omegat/util/OConsts.java
+++ omegat-2.0.5.2+dfsg/src/org/omegat/util/OConsts.java
@@ -94,8 +94,12 @@
     public static final String LEARNED_WORD_LIST_FILE_NAME = "learned_words.txt";   // NOI18N
     
     /** The name of the spell checking library */
-    public static final String SPELLCHECKER_LIBRARY_NAME = "hunspell";  // NOI18N
+    public static final String SPELLCHECKER_LIBRARY_NAME = "hunspell-1.2";  // NOI18N
     
+    /** directory of system dictionaries */
+    public static final String SPELLCHECKER_SYSTEM_DICTIONARY_DIRECTORY =
+           "/usr/share/myspell/dicts";   // NOI18N
+
     /** the native library directory */
     public static final String NATIVE_LIBRARY_DIR = "native";   // NOI18N
     
